<!doctype html>
<title>{% block title %}{% endblock %} - My Bookmarks</title>
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="{{ url_for('static', filename='script.js') }}"></script>
<link rel='stylesheet' href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<link rel='stylesheet' href="{{ url_for('static', filename='style.css') }}">
<nav class='navbar navbar-light topbar'>
  <a class='brand' href="{{ url_for('index') }}">My Bookmarks</a>
  <div class='navbar-nav flex-row'>
    {% if g.user %}
    <a class='nav-link'>{{ g.user['username'] }}</a>
    <a class='nav-link link' href="{{ url_for('auth.setting') }}">Setting</a>
    <a class='nav-link link' href="{{ url_for('auth.logout') }}">Log Out</a>
    {% else %}
    <a class='nav-link'>Log In</a></li>
    {% endif %}
  </div>
</nav>
<div class='wrapper'>
  {% if g.user %}
  <nav class='nav flex-column navbar-light sidebar'>
    <div>
      <a class='navbar-brand'>Bookmarks</a>
      <ul class='navbar-nav' id='categories'>
        <li><a class='nav-link category' id='-1'>All Bookmarks</a></li>
      </ul>
    </div>
  </nav>
  {% endif %}
  <div class='content'>
    <header>
    {% block header %}{% endblock %}
    </header>
    {% for message in get_flashed_messages() %}
    <div class="alert alert-danger {% if request.endpoint == 'auth.login' %}login{% else %}d-inline-flex{% endif %}">{{ message }}</div>
    {% endfor %}
    {% block content %}{% endblock %}
  </div>
</div>
<script>
  $(function () {
    my_categories();
  });
  $(document).on('click', '.category', function () {
    my_bookmarks($(this).prop('id'));
  });
</script>
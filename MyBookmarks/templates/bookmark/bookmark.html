<header style='padding-left: 20px;'>
  <h3>{% if id == 0 %}Add{% else %}Edit{% endif %} Bookmark</h3>
  <hr>
</header>
<form id='form' onsubmit='return false'>
  <script>
    $(function () {
      $('input[type="url"]').blur(function () {
        var string = $(this).val();
        if (!string.match(/^https?:/) && string.length) {
          string = 'http://' + string;
          $(this).val(string)
        }
      });
    });
  </script>
  <div class='form-group'>
    <label for='bookmark'>Bookmark</label>
    <input class='form-control' name='bookmark' id='bookmark' value="{{ request.form['bookmark'] or bookmark['bookmark'] }}" required>
  </div>
  <div class='form-group'>
    <label for='url'>URL</label>
    <input class='form-control' type='url' name='url' id='url' value="{{ request.form['url'] or bookmark['url'] }}" required>
  </div>
  <div class='form-group'>
    <label for='category'>Category</label>
    <input class='form-control' list='category-list' name='category' id='category' maxlength=15 value="{{ request.form['category'] or bookmark['category'] }}">
    <datalist id='category-list'>
    </datalist>
    <small class='form-text text-muted'>Max length: 15 characters. One chinese character equal three characters.</small>
  </div>
  <button class='btn btn-primary' onclick='doBookmark({{ id }})'>{% if id == 0 %}Add{% else %}Save{% endif %}</button>
  <button class='btn btn-primary' onclick='goback()'>Cancel</button>
</form>
{% if id != 0 %}
<form action="{{ url_for('bookmark.delete_bookmark', id=id) }}" method='POST'>
  <input type='submit' value='Delete' class='btn btn-danger' onclick="return confirm('Are you sure?');">
</form>
{% endif %}
